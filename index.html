<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aprendendo sobre Gráficos - Biblioteca HighCharts.</title>
    <link rel="stylesheet" href="highcharts.css">
</head>
<body>
    <div id="chart"></div>
    <script src="highcharts.js"></script>
    <script src="https://code.highcharts.com/js/modules/exporting.js"></script>
    
    
    <script>
        
        const options = {
                            chart:{
                                    type: 'spline',
                                    renderTo: document.getElementById('chart'), 
                                    events:{
                                    load(){
                                        setInterval(() => {
                                                const x = (new Date()).getTime();
                                                const y = Math.random();
                                                this.series[0].addPoint([x,y],true,true);
                                        }, 1000);
                                    }

                                 }
                            },
                            title:{
                                    text: "Meu 1º Gráfico"
                            },
                            series:[{
                                    name: "Idades",
                                    data: (function(){
                                                const data = []
                                                const time = (new Date()).getTime();
                                                for(let i = 0; i <= 20; i ++){
                                                    data.push({
                                                        x: time + (i*1000),
                                                        y: Math.random()
                                                    })
                                                }
                                                return data;    
                                            }())
                            }]

        };

        new Highcharts.chart(options);
        
    
    
    </script>
</body>
</html>